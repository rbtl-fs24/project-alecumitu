---
title: Capstone Project
subtitle: How does the weekly usage of single-use materials differ in a biology lab based on the type of experiment conducted?
author: 
  - name: Alexandru Mitu
    orcid: 0009-0003-9363-2495
    email: amitu01@ethz.ch
    affiliation: 
      - name: ETH Zurich
        url: https://ethz.ch/de.html
date: today
abstract: 
  The abstract will be placed here. Breaks can be added by hitting return on the keyboard.
license: "CC BY"
editor: visual
table-of-contents: true 
---

```{r}
#| label: load-packages
#| warning: false
library(dplyr)
library(ggthemes)
library(gt)
library(ggplot2)
library(readr)
```

# Introduction

Waste management in laboratories is a pressing concern due to the significant amounts of single-use materials, such as plastic tubes, gloves, and pipette tips generated during various experiments. These numbers tend to be even higher in the context of biology labs, due to sterility requirements associated to their research. For example, Urbina et al estimates that laboratories doing biological, medical or agricultural research generated about 5.5 million tonnes of plastic waste in 2014, which is the equivalent of 83% of all plastic recycled in 2012. Not only does this contribute to the rapid increase of plastic that potentially ends up in landfills, but also to the amplification of the greenhouse effect.

To better understand the usage of single-use material in biology labs, this project surveyed the Macromolecular Engineering Lab at ETH ZÃ¼rich. The survey investigated how the weekly usage of single-use materials differs based on the type of experiment conducted. By analyzing the data collected, this project aims to provide valuable insights for optimizing waste management practices in biology labs and reducing the environmental footprint of laboratory activities, which is estimated to be about one-third of all indirect greenhouse gas emissions at this university (ETH GreenLabs)

# Methods

In @tbl-survey_metrics we can see that...

```{r}
#| label: tbl-survey_metrics
#| tbl-cap: Statistics of Survey Respondents

survey_metrics <- read_rds(here::here("data/final/survey_metrics.rds"))

# Create the table using gt()
survey_metrics |>
  gt() |>
  cols_label(
    num_respondents = "Number of Respondents",
    gender_pct = "Gender",
    support_opinion_pct = "Do Respondents Think their Lab Receives Enough Support regarding Waste Management?",
    position_pct = "Level of Education"
  ) |>
  cols_width(
    num_respondents ~ px(100),
    gender_pct ~ px(160),
    support_opinion_pct ~ px(400),
    position_pct ~ px(140)
  ) |>
  tab_style(
    style = cell_text(
      align = "center",
      weight = "bold"
    ),
    locations = cells_body()
  ) |>
  tab_style(
    style = cell_text(
      align = "center"
    ),
    locations = cells_column_labels()
  ) |>
  tab_header(
    title = "Survey Statistics"
  )

```

# Results

See @tbl-tools for data about tools.

```{r}
#| label: tbl-tools
#| tbl-cap: Average number of single-use lab tools.

tools <- read_rds(here::here("data/final/tools.rds"))

tools |> 
  gt() |> 
  tab_header(title = "Summary Statistics for Each Tool Used") |> 
  cols_label(
    tool_used = "Tool",
    count = "Count",
    mean = "Mean",
    median = "Median",
    sd = "Standard Deviation"
  ) 
```

In @fig-waste we see that....

```{r}
#| fig-width: 7.5
#| fig-asp: 0.618
#| fig-cap: Amount of Waste Produced Based on Experiment
#| label: fig-waste

tidy_data <- read_rds(here::here("data/final/tidy_data.rds"))

# Create the stacked bar chart
ggplot(tidy_data, aes(x = experiment_type, y = total_volume, fill = tool_used)) +
  geom_bar(stat = "identity", position = "stack") +
  labs(x = "Experiment Type", y = "Total Volume (mL)", fill = "Waste Type", 
       title = "Amount of Waste Produced Based on Experiment") +
  theme_clean()
```

In @fig-material we can see that...

```{r}
#| fig-width: 7.5
#| fig-asp: 0.618
#| fig-cap: Amount of Different Waste Materials Produced Based on Experiment
#| label: fig-material

tidy_data <- read_rds(here::here("data/final/tidy_data.rds"))

ggplot(tidy_data, aes(x = total_volume, y = material, fill = experiment_type)) +
  geom_bar(stat = "identity", position = "dodge") +
  labs(x = "Total Volume (mL)", y = "Waste Material", fill = "Experiment Type") +
  theme_clean()
```

# Conclusions

# References
